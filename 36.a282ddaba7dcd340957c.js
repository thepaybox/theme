(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{cXWO:function(n,l,e){"use strict";e.d(l,"a",function(){return r});var t=e("sE5F"),u=e("8ArQ"),o=e("CcnG"),i=e("iw74"),r=function(){function n(n,l){this.http=n,this.storage=l,this.url=u.a.hosteddomain}return n.prototype.recordissuersend=function(n){var l=this;return new Promise(function(e,o){l.storage.get(u.a.storageuniq+"token").then(function(u){l.token=u;var i=new t.d;i.append("Authorization",l.token),i.append("Content-Type","application/json"),l.http.post(l.url+"/webuser/webrecordissuersend",JSON.stringify(n),{headers:i}).subscribe(function(n){var l=n.json();e(l)},function(n){o(n)})})})},n.prototype.recordinvoice=function(n){return this.recordreceive(n)},n.prototype.recordreceive=function(n){var l=this;return new Promise(function(e,o){l.storage.get(u.a.storageuniq+"token").then(function(u){l.token=u;var i=new t.d;i.append("Authorization",l.token),i.append("Content-Type","application/json"),l.http.post(l.url+"/webuser/webrecordmsgreceive",JSON.stringify(n),{headers:i}).subscribe(function(n){var l=n.json();e(l)},function(n){o(n)})})})},n.prototype.getrequested=function(n){var l=this;return new Promise(function(e,o){l.storage.get(u.a.storageuniq+"token").then(function(u){l.token=u;var i=new t.d;i.append("Authorization",l.token),i.append("Content-Type","application/json"),l.http.post(l.url+"/webuser/webgetrequested",JSON.stringify(n),{headers:i}).subscribe(function(n){var l=n.json();e(l)},function(n){o(n)})})})},n.prototype.getprocessed=function(n){var l=this;return new Promise(function(e,o){l.storage.get(u.a.storageuniq+"token").then(function(u){l.token=u;var i=new t.d;i.append("Authorization",l.token),i.append("Content-Type","application/json"),l.http.post(l.url+"/webuser/webgetprocessed",JSON.stringify(n),{headers:i}).subscribe(function(n){var l=n.json();e(l)},function(n){o(n)})})})},n.ngInjectableDef=o.S({factory:function(){return new n(o.W(t.e),o.W(i.b))},token:n,providedIn:"root"}),n}()},lh3G:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),u=function(){return function(){}}(),o=e("pMnS"),i=e("oBZk"),r=e("ZZ/e"),s=e("gIcY"),a=e("Ip0R"),c=e("mrSG"),p=e("KzJN"),b=e("cXWO"),d=e("+9Pp"),h=e("KE9Z"),g=e("oMq/"),f=e("8ArQ"),v=e("kHVi"),m=e("sOmj"),k=e("F8q/"),y=function(){function n(n,l,e,t,u,o,i,r,s,a,c,p){this.storage=n,this.changellyCalls=l,this.blue011issue=e,this.invoiceservice=t,this.termsuserservice=u,this.kycService=o,this.recordService=i,this.route=r,this.modalController=s,this.logger=a,this.alertController=c,this.blue011consume=p,this.whichdash="testnet"==f.a.network?"tDASH":"DASH",this.templatescreen="true",this.purpose="",this.invoiceaddress="",this.invoicedmessages=[],this.invoices=[],this.network=f.a.network,this.whichsegment="invoice",this.useraccount={termsagreed:"no"},this.loggedinuser={uid:"",displayName:"",photoURL:"",phoneNumber:"",email:"",emailVerified:""},this.defaultinvoice={id:"",templatenumber:""},this.invoicesetting={id:"",format:"default",invoiceemail:"",invoicephone:"",invoicemessage:"",invoicenumber:"",invoiceamount:"",invoiceunit:"",dashprice:"",dashamount:"",stdmessage:"",templatenumber:"",templatetype:"",businesstitle:"",contactemail:"",contactphone:"",receiveaddress:"",senderaddress:"",contactterms:"",contactaddress:""},this.foredit=!1,this.loadaccount(),this.loadinvoices(),this.getdefaultsetting(),this.getdefinv()}return n.prototype.getdefinv=function(){var n=this;this.invoiceservice.getdefaultinvtemplate().then(function(l){l&&(n.defaultinvoice=JSON.parse(l))})},n.prototype.editsetting=function(){this.foredit=!0},n.prototype.clearsetting=function(){this.initinvoice(),this.foredit=!1},n.prototype.defaulttemplate=function(n){var l=this;this.invoiceservice.webdefaultinvtemplate(n).then(function(n){l.storage.set(f.a.storageuniq+"defaulttemplate",JSON.stringify(n)),l.getdefaultsetting()},function(n){l.presentAlert("","","Error default setting.")})},n.prototype.getdefaultsetting=function(){var n=this;this.invoiceservice.webgetdefaultinvtemplate({}).then(function(l){n.defaultinvoice=l,n.storage.set(f.a.storageuniq+"defaulttemplate",JSON.stringify(l))},function(l){n.presentAlert("","","Error default setting.")})},n.prototype.defaultsetting=function(){var n=this;this.invoiceservice.webdefaultinvtemplate(this.invoicesetting).then(function(l){n.getdefaultsetting(),n.storage.set(f.a.storageuniq+"defaulttemplate",JSON.stringify(l))},function(l){n.presentAlert("","","Error default setting.")})},n.prototype.createsetting=function(){this.initinvoice(),this.foredit=!0},n.prototype.initinvoice=function(){this.invoicesetting={id:"",format:"default",invoiceemail:"",invoicephone:"",invoicemessage:"",invoicenumber:"",invoiceamount:"",invoiceunit:"",dashprice:"",dashamount:"",templatenumber:"",templatetype:"",businesstitle:"",contactemail:"",stdmessage:"",contactphone:"",receiveaddress:"",senderaddress:"",contactterms:"",contactaddress:""}},n.prototype.saveinvoice=function(){return c.b(this,void 0,void 0,function(){var n=this;return c.e(this,function(l){return this.foredit=!1,this.invoiceservice.webcreateinvtemplate(this.invoicesetting).then(function(n){},function(l){n.presentAlert("","","Error saving."),n.initinvoice()}),[2]})})},n.prototype.getaccount=function(){return c.b(this,void 0,void 0,function(){var n,l=this;return c.e(this,function(e){switch(e.label){case 0:return n=this,[4,this.termsuserservice.getloggedinuser()];case 1:return n.loggedinuser=e.sent(),""==this.loggedinuser.uid?[2]:(this.termsuserservice.getaccount({googleid:this.loggedinuser.uid}).then(function(n){l.logger.info(n),n&&(l.useraccount=n,l.storage.set(f.a.storageuniq+"useraccount",JSON.stringify(l.useraccount)).then(function(n){l.termsuserservice.reflectuseraccount()}),l.storage.set(f.a.storageuniq+"token","WebKey "+l.useraccount.token))},function(n){if(n._body){var e;try{e=JSON.parse(n._body)}catch(t){}e&&e.response?l.presentAlert("Accept terms",e.response.message,f.a.err.W1233.code):l.presentAlert("","","Error connecting.")}else l.presentAlert("","","Error reading account. ")}),[2])}})})},n.prototype.assigninvoiceaddress=function(){this.invoiceaddress=this.walletaddress},n.prototype.loadinvoice=function(n){this.invoicesetting=n,this.foredit=!1,this.templatescreen="false"},n.prototype.deleteinvoice=function(n){var l=this;this.invoiceservice.webdeleteinvoice(n).then(function(n){l.loadinvoices()}).catch(function(n){})},n.prototype.deletesetting=function(){var n=this;this.invoiceservice.webdeleteinvtemplate(this.invoicesetting).then(function(l){n.loadinvoices()}).catch(function(n){})},n.prototype.nullify=function(){this.loggedinuser={uid:"",displayName:"",photoURL:"",phoneNumber:"",email:"",emailVerified:""}},n.prototype.loadaccount=function(){return c.b(this,void 0,void 0,function(){var n;return c.e(this,function(l){switch(l.label){case 0:return n=this,[4,this.termsuserservice.getuseraccount()];case 1:return n.useraccount=l.sent(),[2]}})})},n.prototype.loadinvoices=function(){var n=this;this.invoiceservice.webgetinvoices({}).then(function(l){n.invoices=l||[],n.templatescreen="true"}).catch(function(l){n.templatescreen="true"})},n.prototype.loaduser=function(){return c.b(this,void 0,void 0,function(){var n;return c.e(this,function(l){switch(l.label){case 0:return n=this,[4,this.termsuserservice.getloggedinuser()];case 1:return n.loggedinuser=l.sent(),[2]}})})},n.prototype.goToBarcodeScan=function(){},n.prototype.copyaddress=function(){},n.prototype.pastecontract=function(){},n.prototype.pastepin=function(){},n.prototype.ngOnInit=function(){this.loaduser(),this.loadkycdata(),this.loadaccount(),this.transacted={txid:"",amount:"",fromaddress:"",toaddress:""},this.revertible={id:"",message:"",pin:"",address:"",email:"",target:"",kycstatus:"",network:"",type:"BLUE011"},this.walletbalance={address:"",balance:0,balanceSat:0,unconfirmedBalance:0,unconfirmedBalanceSat:0},this.loadwalletwif(),this.loadwalletbalance(),this.forreverse()},n.prototype.forreverse=function(){var n=this;this.storage.get(f.a.storageuniq+"forreverse").then(function(l){l&&(n.revertible.message=l.message,n.revertible.pin=l.pin,n.storage.set(f.a.storageuniq+"forreverse",null))})},n.prototype.loadkycdata=function(){var n=this;this.storage.get(f.a.storageuniq+"kycstatus").then(function(l){l&&(n.kycstatus=l)})},n.prototype.presentAlert=function(n,l,e){return c.b(this,void 0,void 0,function(){var t,u=this;return c.e(this,function(o){switch(o.label){case 0:return[4,this.alertController.create({header:n,subHeader:l,message:e,buttons:["OK"]})];case 1:return[4,(t=o.sent()).present()];case 2:return o.sent(),setTimeout(function(){return c.b(u,void 0,void 0,function(){return c.e(this,function(n){switch(n.label){case 0:return[4,t.dismiss()];case 1:return n.sent(),[2]}})})},f.a.alertdelay),[2]}})})},n.prototype.ionViewWillEnter=function(){this.loadwalletwif(),this.loaduser(),this.loadkycdata(),this.getaccount(),this.loadwalletbalance(),this.forreverse();var n=this.route.snapshot.paramMap.get("contract"),l=this.route.snapshot.paramMap.get("pin");n&&l?(this.revertible.message=this.decryptcontract(n,"pinforuse"),this.revertible.pin=l,this.presentAlert("","","Accept funds from escrow")):n&&(this.revertible.message=this.decryptcontract(n,"pinforuse"),this.presentAlert("","","Enter PIN and accept funds")),this.loadinvoicedmessages()},n.prototype.decryptcontract=function(n,l){try{return this.changellyCalls.decryptcontract(n,l)}catch(e){return this.presentAlert("","","Invalid data "+f.a.err.W1224.code),null}},n.prototype.wiftoaddress=function(){"testnet"==this.network?this.walletaddress=dashcore.PrivateKey.fromWIF(this.walletwif).toAddress(dashcore.Networks.testnet).toString():"livenet"==this.network?this.walletaddress=dashcore.PrivateKey.fromWIF(this.walletwif).toAddress(dashcore.Networks.livenet).toString():this.presentAlert("","","Invalid network "+f.a.err.W1223.code)},n.prototype.loadwalletwif=function(){var n=this;this.storage.get(f.a.storageuniq+"walletwif").then(function(l){l?(n.walletwif=l,n.wiftoaddress(),n.loadwalletbalance()):n.presentAlert("","","Set your wallet before use "+f.a.err.W1222.code)})},n.prototype.consumemessage=function(){return c.b(this,void 0,void 0,function(){return c.e(this,function(n){return[2]})})},n.prototype.getwalletbalance=function(){var n=this;this.walletaddress?this.blue011consume.getBalance(this.walletaddress,this.network).then(function(l){null!=l?(n.walletbalance=l,n.savewalletbalance(n.walletbalance)):n.presentAlert("","","Balance check failed  "+f.a.err.W1220.code)},function(l){n.presentAlert("Get balance failed","Error",f.a.err.W1220.code)}):this.presentAlert("","","Address field empty "+f.a.err.W1220.code)},n.prototype.refresh=function(){this.loadinvoices(),this.presentAlert("","","Refreshed")},n.prototype.loadinvoicedmessages=function(){var n=this;this.blue011consume.getinvoicedmessages().then(function(l){null!=l&&(n.invoicedmessages=l)},function(l){n.presentAlert("","",l)})},n.prototype.clearall=function(){this.blue011consume.deleteallmessage(),this.presentAlert("","","Cleared")},n.prototype.scanqrcode=function(){},n.prototype.loadwalletbalance=function(){return c.b(this,void 0,void 0,function(){var n;return c.e(this,function(l){switch(l.label){case 0:return n=this,[4,this.termsuserservice.getwalletbalance()];case 1:return n.walletbalance=l.sent(),[2]}})})},n.prototype.savewalletbalance=function(n){var l=this;this.storage.set(f.a.storageuniq+"walletbalance",n).then(function(n){l.termsuserservice.reflectwalletbalance()})},n}(),w=e("iw74"),C=e("ZYCi"),O=t.nb({encapsulation:0,styles:[["div[_ngcontent-%COMP%]{font-size:.875em}.welcome-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{background:var(--ion-color-medium);border-radius:20px}"]],data:{}});function z(n){return t.Hb(0,[(n()(),t.pb(0,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.editsetting()&&t),t},i.O,i.d)),t.ob(1,49152,null,0,r.l,[t.h,t.k],null,null),(n()(),t.Fb(-1,0,[" Edit "]))],null,null)}function x(n){return t.Hb(0,[(n()(),t.pb(0,0,null,null,2,"ion-button",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.deletesetting()&&t),t},i.O,i.d)),t.ob(1,49152,null,0,r.l,[t.h,t.k],null,null),(n()(),t.Fb(-1,0,[" Delete "]))],null,null)}function I(n){return t.Hb(0,[(n()(),t.pb(0,0,null,null,86,"ion-card",[["class","datainput"]],null,null,null,i.U,i.f)),t.ob(1,49152,null,0,r.n,[t.h,t.k],null,null),(n()(),t.pb(2,0,null,0,4,"ion-card-header",[],null,null,null,i.R,i.h)),t.ob(3,49152,null,0,r.p,[t.h,t.k],null,null),(n()(),t.pb(4,0,null,0,2,"ion-card-subtitle",[],null,null,null,i.S,i.i)),t.ob(5,49152,null,0,r.q,[t.h,t.k],null,null),(n()(),t.Fb(-1,0,["Invoice setting "])),(n()(),t.pb(7,0,null,0,14,"ion-item",[],null,null,null,i.db,i.r)),t.ob(8,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.pb(9,0,null,0,2,"ion-badge",[["slot","start"]],null,null,null,i.N,i.c)),t.ob(10,49152,null,0,r.k,[t.h,t.k],null,null),(n()(),t.Fb(-1,0,["1"])),(n()(),t.pb(12,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,i.eb,i.t)),t.ob(13,49152,null,0,r.O,[t.h,t.k],{position:[0,"position"]},null),(n()(),t.Fb(-1,0,[" Business title "])),(n()(),t.pb(15,0,null,0,6,"ion-input",[["placeholder","Business title "],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var u=!0,o=n.component;return"ionBlur"===l&&(u=!1!==t.zb(n,17)._handleBlurEvent()&&u),"ionChange"===l&&(u=!1!==t.zb(n,17)._handleInputEvent(e.target.value)&&u),"ngModelChange"===l&&(u=!1!==(o.invoicesetting.businesstitle=e)&&u),u},i.bb,i.q)),t.ob(16,49152,null,0,r.H,[t.h,t.k],{placeholder:[0,"placeholder"],type:[1,"type"]},null),t.ob(17,16384,null,0,r.Ob,[t.k],null,null),t.Cb(1024,null,s.g,function(n){return[n]},[r.Ob]),t.ob(19,671744,null,0,s.l,[[8,null],[8,null],[8,null],[6,s.g]],{model:[0,"model"]},{update:"ngModelChange"}),t.Cb(2048,null,s.h,null,[s.l]),t.ob(21,16384,null,0,s.i,[[4,s.h]],null,null),(n()(),t.pb(22,0,null,0,14,"ion-item",[],null,null,null,i.db,i.r)),t.ob(23,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.pb(24,0,null,0,2,"ion-badge",[["slot","start"]],null,null,null,i.N,i.c)),t.ob(25,49152,null,0,r.k,[t.h,t.k],null,null),(n()(),t.Fb(-1,0,["1.1"])),(n()(),t.pb(27,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,i.eb,i.t)),t.ob(28,49152,null,0,r.O,[t.h,t.k],{position:[0,"position"]},null),(n()(),t.Fb(-1,0,[" Contact email "])),(n()(),t.pb(30,0,null,0,6,"ion-input",[["placeholder","Contact email "],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var u=!0,o=n.component;return"ionBlur"===l&&(u=!1!==t.zb(n,32)._handleBlurEvent()&&u),"ionChange"===l&&(u=!1!==t.zb(n,32)._handleInputEvent(e.target.value)&&u),"ngModelChange"===l&&(u=!1!==(o.invoicesetting.contactemail=e)&&u),u},i.bb,i.q)),t.ob(31,49152,null,0,r.H,[t.h,t.k],{placeholder:[0,"placeholder"],type:[1,"type"]},null),t.ob(32,16384,null,0,r.Ob,[t.k],null,null),t.Cb(1024,null,s.g,function(n){return[n]},[r.Ob]),t.ob(34,671744,null,0,s.l,[[8,null],[8,null],[8,null],[6,s.g]],{model:[0,"model"]},{update:"ngModelChange"}),t.Cb(2048,null,s.h,null,[s.l]),t.ob(36,16384,null,0,s.i,[[4,s.h]],null,null),(n()(),t.pb(37,0,null,0,14,"ion-item",[],null,null,null,i.db,i.r)),t.ob(38,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.pb(39,0,null,0,2,"ion-badge",[["slot","start"]],null,null,null,i.N,i.c)),t.ob(40,49152,null,0,r.k,[t.h,t.k],null,null),(n()(),t.Fb(-1,0,["1.2"])),(n()(),t.pb(42,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,i.eb,i.t)),t.ob(43,49152,null,0,r.O,[t.h,t.k],{position:[0,"position"]},null),(n()(),t.Fb(-1,0,[" Contact phone "])),(n()(),t.pb(45,0,null,0,6,"ion-input",[["placeholder","Contact phone "],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var u=!0,o=n.component;return"ionBlur"===l&&(u=!1!==t.zb(n,47)._handleBlurEvent()&&u),"ionChange"===l&&(u=!1!==t.zb(n,47)._handleInputEvent(e.target.value)&&u),"ngModelChange"===l&&(u=!1!==(o.invoicesetting.contactphone=e)&&u),u},i.bb,i.q)),t.ob(46,49152,null,0,r.H,[t.h,t.k],{placeholder:[0,"placeholder"],type:[1,"type"]},null),t.ob(47,16384,null,0,r.Ob,[t.k],null,null),t.Cb(1024,null,s.g,function(n){return[n]},[r.Ob]),t.ob(49,671744,null,0,s.l,[[8,null],[8,null],[8,null],[6,s.g]],{model:[0,"model"]},{update:"ngModelChange"}),t.Cb(2048,null,s.h,null,[s.l]),t.ob(51,16384,null,0,s.i,[[4,s.h]],null,null),(n()(),t.pb(52,0,null,0,14,"ion-item",[],null,null,null,i.db,i.r)),t.ob(53,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.pb(54,0,null,0,2,"ion-badge",[["slot","start"]],null,null,null,i.N,i.c)),t.ob(55,49152,null,0,r.k,[t.h,t.k],null,null),(n()(),t.Fb(-1,0,["1.3"])),(n()(),t.pb(57,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,i.eb,i.t)),t.ob(58,49152,null,0,r.O,[t.h,t.k],{position:[0,"position"]},null),(n()(),t.Fb(-1,0,[" Address "])),(n()(),t.pb(60,0,null,0,6,"ion-textarea",[["class","ion-text-wrap"],["placeholder","Address to receive "],["rows","2"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var u=!0,o=n.component;return"ionBlur"===l&&(u=!1!==t.zb(n,62)._handleBlurEvent()&&u),"ionChange"===l&&(u=!1!==t.zb(n,62)._handleInputEvent(e.target.value)&&u),"ngModelChange"===l&&(u=!1!==(o.invoicesetting.receiveaddress=e)&&u),u},i.tb,i.I)),t.ob(61,49152,null,0,r.yb,[t.h,t.k],{placeholder:[0,"placeholder"],rows:[1,"rows"]},null),t.ob(62,16384,null,0,r.Ob,[t.k],null,null),t.Cb(1024,null,s.g,function(n){return[n]},[r.Ob]),t.ob(64,671744,null,0,s.l,[[8,null],[8,null],[8,null],[6,s.g]],{model:[0,"model"]},{update:"ngModelChange"}),t.Cb(2048,null,s.h,null,[s.l]),t.ob(66,16384,null,0,s.i,[[4,s.h]],null,null),(n()(),t.pb(67,0,null,0,14,"ion-item",[],null,null,null,i.db,i.r)),t.ob(68,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.pb(69,0,null,0,2,"ion-badge",[["slot","start"]],null,null,null,i.N,i.c)),t.ob(70,49152,null,0,r.k,[t.h,t.k],null,null),(n()(),t.Fb(-1,0,["1.4"])),(n()(),t.pb(72,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,i.eb,i.t)),t.ob(73,49152,null,0,r.O,[t.h,t.k],{position:[0,"position"]},null),(n()(),t.Fb(-1,0,[" Terms "])),(n()(),t.pb(75,0,null,0,6,"ion-input",[["placeholder","Terms "],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var u=!0,o=n.component;return"ionBlur"===l&&(u=!1!==t.zb(n,77)._handleBlurEvent()&&u),"ionChange"===l&&(u=!1!==t.zb(n,77)._handleInputEvent(e.target.value)&&u),"ngModelChange"===l&&(u=!1!==(o.invoicesetting.terms=e)&&u),u},i.bb,i.q)),t.ob(76,49152,null,0,r.H,[t.h,t.k],{placeholder:[0,"placeholder"],type:[1,"type"]},null),t.ob(77,16384,null,0,r.Ob,[t.k],null,null),t.Cb(1024,null,s.g,function(n){return[n]},[r.Ob]),t.ob(79,671744,null,0,s.l,[[8,null],[8,null],[8,null],[6,s.g]],{model:[0,"model"]},{update:"ngModelChange"}),t.Cb(2048,null,s.h,null,[s.l]),t.ob(81,16384,null,0,s.i,[[4,s.h]],null,null),(n()(),t.pb(82,0,null,0,4,"ion-item",[],null,null,null,i.db,i.r)),t.ob(83,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.pb(84,0,null,0,2,"ion-button",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.saveinvoice()&&t),t},i.O,i.d)),t.ob(85,49152,null,0,r.l,[t.h,t.k],null,null),(n()(),t.Fb(-1,0,[" Save "]))],function(n,l){var e=l.component;n(l,13,0,"stacked"),n(l,16,0,"Business title ","text"),n(l,19,0,e.invoicesetting.businesstitle),n(l,28,0,"stacked"),n(l,31,0,"Contact email ","text"),n(l,34,0,e.invoicesetting.contactemail),n(l,43,0,"stacked"),n(l,46,0,"Contact phone ","text"),n(l,49,0,e.invoicesetting.contactphone),n(l,58,0,"stacked"),n(l,61,0,"Address to receive ","2"),n(l,64,0,e.invoicesetting.receiveaddress),n(l,73,0,"stacked"),n(l,76,0,"Terms ","text"),n(l,79,0,e.invoicesetting.terms)},function(n,l){n(l,15,0,t.zb(l,21).ngClassUntouched,t.zb(l,21).ngClassTouched,t.zb(l,21).ngClassPristine,t.zb(l,21).ngClassDirty,t.zb(l,21).ngClassValid,t.zb(l,21).ngClassInvalid,t.zb(l,21).ngClassPending),n(l,30,0,t.zb(l,36).ngClassUntouched,t.zb(l,36).ngClassTouched,t.zb(l,36).ngClassPristine,t.zb(l,36).ngClassDirty,t.zb(l,36).ngClassValid,t.zb(l,36).ngClassInvalid,t.zb(l,36).ngClassPending),n(l,45,0,t.zb(l,51).ngClassUntouched,t.zb(l,51).ngClassTouched,t.zb(l,51).ngClassPristine,t.zb(l,51).ngClassDirty,t.zb(l,51).ngClassValid,t.zb(l,51).ngClassInvalid,t.zb(l,51).ngClassPending),n(l,60,0,t.zb(l,66).ngClassUntouched,t.zb(l,66).ngClassTouched,t.zb(l,66).ngClassPristine,t.zb(l,66).ngClassDirty,t.zb(l,66).ngClassValid,t.zb(l,66).ngClassInvalid,t.zb(l,66).ngClassPending),n(l,75,0,t.zb(l,81).ngClassUntouched,t.zb(l,81).ngClassTouched,t.zb(l,81).ngClassPristine,t.zb(l,81).ngClassDirty,t.zb(l,81).ngClassValid,t.zb(l,81).ngClassInvalid,t.zb(l,81).ngClassPending)})}function A(n){return t.Hb(0,[(n()(),t.pb(0,0,null,null,77,"div",[],null,null,null,null,null)),(n()(),t.pb(1,0,null,null,4,"ion-item",[],null,null,null,i.db,i.r)),t.ob(2,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.pb(3,0,null,0,2,"ion-button",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.loadinvoices()&&t),t},i.O,i.d)),t.ob(4,49152,null,0,r.l,[t.h,t.k],null,null),(n()(),t.Fb(-1,0,[" Load invoices "])),(n()(),t.pb(6,0,null,null,69,"ion-card",[["class","datainput"]],null,null,null,i.U,i.f)),t.ob(7,49152,null,0,r.n,[t.h,t.k],null,null),(n()(),t.pb(8,0,null,0,61,"ion-grid",[],null,null,null,i.Y,i.n)),t.ob(9,49152,null,0,r.B,[t.h,t.k],null,null),(n()(),t.pb(10,0,null,0,15,"ion-row",[],null,null,null,i.kb,i.z)),t.ob(11,49152,null,0,r.jb,[t.h,t.k],null,null),(n()(),t.pb(12,0,null,0,13,"ion-col",[],null,null,null,i.V,i.k)),t.ob(13,49152,null,0,r.u,[t.h,t.k],null,null),(n()(),t.pb(14,0,null,0,11,"ion-item",[],null,null,null,i.db,i.r)),t.ob(15,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.pb(16,0,null,0,9,"ion-label",[["class","ion-text-wrap"]],null,null,null,i.eb,i.t)),t.ob(17,49152,null,0,r.O,[t.h,t.k],null,null),(n()(),t.pb(18,0,null,0,3,"ion-text",[["color","primary"]],null,null,null,i.sb,i.H)),t.ob(19,49152,null,0,r.xb,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.pb(20,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),t.Fb(-1,null,[" Title "])),(n()(),t.pb(22,0,null,0,3,"ion-text",[["color","secondary"]],null,null,null,i.sb,i.H)),t.ob(23,49152,null,0,r.xb,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.pb(24,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),t.Fb(25,null,[" "," "])),(n()(),t.pb(26,0,null,0,28,"ion-row",[],null,null,null,i.kb,i.z)),t.ob(27,49152,null,0,r.jb,[t.h,t.k],null,null),(n()(),t.pb(28,0,null,0,12,"ion-col",[],null,null,null,i.V,i.k)),t.ob(29,49152,null,0,r.u,[t.h,t.k],null,null),(n()(),t.pb(30,0,null,0,10,"ion-item",[],null,null,null,i.db,i.r)),t.ob(31,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.pb(32,0,null,0,8,"ion-label",[["class","ion-text-wrap"]],null,null,null,i.eb,i.t)),t.ob(33,49152,null,0,r.O,[t.h,t.k],null,null),(n()(),t.pb(34,0,null,0,3,"ion-text",[["color","primary"]],null,null,null,i.sb,i.H)),t.ob(35,49152,null,0,r.xb,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.pb(36,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),t.Fb(-1,null,[" Recieve address "])),(n()(),t.pb(38,0,null,0,2,"ion-text",[["color","secondary"]],null,null,null,i.sb,i.H)),t.ob(39,49152,null,0,r.xb,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.Fb(40,0,[" "," "])),(n()(),t.pb(41,0,null,0,13,"ion-col",[],null,null,null,i.V,i.k)),t.ob(42,49152,null,0,r.u,[t.h,t.k],null,null),(n()(),t.pb(43,0,null,0,11,"ion-item",[],null,null,null,i.db,i.r)),t.ob(44,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.pb(45,0,null,0,9,"ion-label",[["class","ion-text-wrap"]],null,null,null,i.eb,i.t)),t.ob(46,49152,null,0,r.O,[t.h,t.k],null,null),(n()(),t.pb(47,0,null,0,1,"ion-text",[["color","primary"]],null,null,null,i.sb,i.H)),t.ob(48,49152,null,0,r.xb,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.pb(49,0,null,0,5,"ion-text",[["color","secondary"]],null,null,null,i.sb,i.H)),t.ob(50,49152,null,0,r.xb,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.pb(51,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),t.Fb(52,null,[" Email: "," "])),(n()(),t.pb(53,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),t.Fb(54,null,[" Phone : "," "])),(n()(),t.pb(55,0,null,0,14,"ion-row",[],null,null,null,i.kb,i.z)),t.ob(56,49152,null,0,r.jb,[t.h,t.k],null,null),(n()(),t.pb(57,0,null,0,12,"ion-col",[],null,null,null,i.V,i.k)),t.ob(58,49152,null,0,r.u,[t.h,t.k],null,null),(n()(),t.pb(59,0,null,0,10,"ion-item",[],null,null,null,i.db,i.r)),t.ob(60,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.pb(61,0,null,0,8,"ion-label",[["class","ion-text-wrap"]],null,null,null,i.eb,i.t)),t.ob(62,49152,null,0,r.O,[t.h,t.k],null,null),(n()(),t.pb(63,0,null,0,3,"ion-text",[["color","primary"]],null,null,null,i.sb,i.H)),t.ob(64,49152,null,0,r.xb,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.pb(65,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),t.Fb(-1,null,[" Terms "])),(n()(),t.pb(67,0,null,0,2,"ion-text",[["color","secondary"]],null,null,null,i.sb,i.H)),t.ob(68,49152,null,0,r.xb,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.Fb(69,0,[" "," "])),(n()(),t.pb(70,0,null,0,5,"ion-item",[],null,null,null,i.db,i.r)),t.ob(71,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.gb(16777216,null,0,1,null,z)),t.ob(73,16384,null,0,a.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.gb(16777216,null,0,1,null,x)),t.ob(75,16384,null,0,a.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.gb(16777216,null,null,1,null,I)),t.ob(77,16384,null,0,a.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,19,0,"primary"),n(l,23,0,"secondary"),n(l,35,0,"primary"),n(l,39,0,"secondary"),n(l,48,0,"primary"),n(l,50,0,"secondary"),n(l,64,0,"primary"),n(l,68,0,"secondary"),n(l,73,0,e.invoicesetting.templatenumber),n(l,75,0,e.invoicesetting.templatenumber),n(l,77,0,e.foredit)},function(n,l){var e=l.component;n(l,25,0,e.invoicesetting.businesstitle),n(l,40,0,e.invoicesetting.receiveaddress),n(l,52,0,e.invoicesetting.contactemail),n(l,54,0,e.invoicesetting.contactphone),n(l,69,0,e.invoicesetting.terms)})}function j(n){return t.Hb(0,[(n()(),t.pb(0,0,null,null,2,"ion-item",[],null,null,null,i.db,i.r)),t.ob(1,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.Fb(-1,0,[" No invoices "]))],null,null)}function F(n){return t.Hb(0,[(n()(),t.pb(0,0,null,null,19,"ion-item",[],null,null,null,i.db,i.r)),t.ob(1,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.pb(2,0,null,0,11,"ion-label",[["text-wrap",""]],null,null,null,i.eb,i.t)),t.ob(3,49152,null,0,r.O,[t.h,t.k],null,null),(n()(),t.pb(4,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),t.Fb(5,null,[" No: "," "])),(n()(),t.pb(6,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),t.Fb(7,null,[" Title: "," "])),(n()(),t.pb(8,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),t.Fb(9,null,[" Record no: "," "])),(n()(),t.pb(10,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),t.Fb(11,null,[" Email: "," "])),(n()(),t.pb(12,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),t.Fb(13,null,[" Message: "," "])),(n()(),t.pb(14,0,null,0,2,"ion-button",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.loadinvoice(n.context.$implicit)&&t),t},i.O,i.d)),t.ob(15,49152,null,0,r.l,[t.h,t.k],null,null),(n()(),t.Fb(-1,0,[" Select "])),(n()(),t.pb(17,0,null,0,2,"ion-button",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.deleteinvoice(n.context.$implicit)&&t),t},i.O,i.d)),t.ob(18,49152,null,0,r.l,[t.h,t.k],null,null),(n()(),t.Fb(-1,0,[" Delete "]))],null,function(n,l){n(l,5,0,l.context.$implicit.invoicenumber),n(l,7,0,l.context.$implicit.invoicedata.receivername),n(l,9,0,l.context.$implicit.userrecordno),n(l,11,0,l.context.$implicit.invoicedata.tomail),n(l,13,0,l.context.$implicit.invoicedata.invoicemessage)})}function S(n){return t.Hb(0,[(n()(),t.pb(0,0,null,null,11,"div",[],null,null,null,null,null)),(n()(),t.pb(1,0,null,null,4,"ion-item",[],null,null,null,i.db,i.r)),t.ob(2,49152,null,0,r.I,[t.h,t.k],null,null),(n()(),t.pb(3,0,null,0,2,"ion-button",[["slot","end"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.refresh()&&t),t},i.O,i.d)),t.ob(4,49152,null,0,r.l,[t.h,t.k],null,null),(n()(),t.Fb(-1,0,[" Refresh "])),(n()(),t.pb(6,0,null,null,5,"ion-list",[],null,null,null,i.gb,i.u)),t.ob(7,49152,null,0,r.P,[t.h,t.k],null,null),(n()(),t.gb(16777216,null,0,1,null,j)),t.ob(9,16384,null,0,a.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.gb(16777216,null,0,1,null,F)),t.ob(11,278528,null,0,a.i,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,9,0,0==e.invoices.length),n(l,11,0,e.invoices)},null)}function q(n){return t.Hb(0,[(n()(),t.pb(0,0,null,null,10,"ion-header",[],null,null,null,i.Z,i.o)),t.ob(1,49152,null,0,r.C,[t.h,t.k],null,null),(n()(),t.pb(2,0,null,0,8,"ion-toolbar",[],null,null,null,i.vb,i.K)),t.ob(3,49152,null,0,r.Cb,[t.h,t.k],null,null),(n()(),t.pb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,i.P,i.e)),t.ob(5,49152,null,0,r.m,[t.h,t.k],null,null),(n()(),t.pb(6,0,null,0,1,"ion-menu-button",[],null,null,null,i.hb,i.x)),t.ob(7,49152,null,0,r.S,[t.h,t.k],null,null),(n()(),t.pb(8,0,null,0,2,"ion-label",[],null,null,null,i.eb,i.t)),t.ob(9,49152,null,0,r.O,[t.h,t.k],null,null),(n()(),t.Fb(-1,0,[" Invoice "])),(n()(),t.pb(11,0,null,null,5,"ion-content",[],null,null,null,i.W,i.l)),t.ob(12,49152,null,0,r.v,[t.h,t.k],null,null),(n()(),t.gb(16777216,null,0,1,null,A)),t.ob(14,16384,null,0,a.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.gb(16777216,null,0,1,null,S)),t.ob(16,16384,null,0,a.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,14,0,"false"==e.templatescreen),n(l,16,0,"true"==e.templatescreen)},null)}function N(n){return t.Hb(0,[(n()(),t.pb(0,0,null,null,1,"app-tab1",[],null,null,null,q,O)),t.ob(1,114688,null,0,y,[w.b,p.a,h.a,g.a,v.a,m.a,b.a,C.a,r.Hb,k.a,r.b,d.a],null,null)],function(n,l){n(l,1,0)},null)}var P=t.lb("app-tab1",y,N,{},{},[]),E=e("n0MC");e.d(l,"Tab1PageModuleNgFactory",function(){return H});var H=t.mb(u,[],function(n){return t.wb([t.xb(512,t.j,t.bb,[[8,[o.a,P]],[3,t.j],t.x]),t.xb(4608,a.l,a.k,[t.u,[2,a.s]]),t.xb(4608,r.c,r.c,[t.z,t.g]),t.xb(4608,r.Hb,r.Hb,[r.c,t.j,t.q]),t.xb(4608,r.Lb,r.Lb,[r.c,t.j,t.q]),t.xb(4608,s.p,s.p,[]),t.xb(1073742336,a.b,a.b,[]),t.xb(1073742336,r.Eb,r.Eb,[]),t.xb(1073742336,E.a,E.a,[]),t.xb(1073742336,s.n,s.n,[]),t.xb(1073742336,s.d,s.d,[]),t.xb(1073742336,C.p,C.p,[[2,C.v],[2,C.m]]),t.xb(1073742336,u,u,[]),t.xb(1024,C.k,function(){return[[{path:"",component:y}]]},[])])})},"oMq/":function(n,l,e){"use strict";e.d(l,"a",function(){return a});var t=e("mrSG"),u=e("sE5F"),o=e("8ArQ"),i=e("KzJN"),r=e("CcnG"),s=e("iw74"),a=function(){function n(n,l,e){this.http=n,this.storage=l,this.changellyCalls=e,this.url=o.a.hosteddomain}return n.prototype.checkreceivepolicy=function(){},n.prototype.getdefaultinvtemplate=function(){return t.b(this,void 0,void 0,function(){return t.e(this,function(n){switch(n.label){case 0:return[4,this.storage.get(o.a.storageuniq+"defaulttemplate")];case 1:return[2,n.sent()]}})})},n.prototype.webdefaultinvtemplate=function(n){var l=this;return new Promise(function(e,t){l.storage.get(o.a.storageuniq+"token").then(function(o){l.token=o;var i=new u.d;i.append("Authorization",l.token),i.append("Content-Type","application/json"),l.http.post(l.url+"/webuser/webdefaultinvtemplate",JSON.stringify(n),{headers:i}).subscribe(function(n){var l=n.json();e(l)},function(n){t(n)})})})},n.prototype.payment=function(n,l){var e=this;return new Promise(function(t,i){e.storage.get(o.a.storageuniq+"token").then(function(o){e.token=o;var r=new u.d;r.append("Authorization",e.token),r.append("Content-Type","application/json"),e.http.post(e.url+l,JSON.stringify(n),{headers:r}).subscribe(function(n){var l=n.json();t(l)},function(n){i(n)})})})},n.prototype.acceptpayment=function(n,l){var e=this;return new Promise(function(t,i){e.storage.get(o.a.storageuniq+"token").then(function(o){e.token=o;var r=new u.d;r.append("Authorization",e.token),r.append("Content-Type","application/json"),e.http.post(e.url+l,JSON.stringify(n),{headers:r}).subscribe(function(n){var l=n.json();t(l)},function(n){i(n)})})})},n.prototype.webgetdefaultinvtemplate=function(n){var l=this;return new Promise(function(e,t){l.storage.get(o.a.storageuniq+"token").then(function(o){l.token=o;var i=new u.d;i.append("Authorization",l.token),i.append("Content-Type","application/json"),l.http.post(l.url+"/webuser/webgetdefaultinvtemplate",JSON.stringify(n),{headers:i}).subscribe(function(n){var l=n.json();e(l)},function(n){t(n)})})})},n.prototype.webcreateinvtemplate=function(n){var l=this;return new Promise(function(e,t){l.storage.get(o.a.storageuniq+"token").then(function(o){l.token=o;var i=new u.d;i.append("Authorization",l.token),i.append("Content-Type","application/json"),l.http.post(l.url+"/webuser/webcreateinvtemplate",JSON.stringify(n),{headers:i}).subscribe(function(n){var l=n.json();e(l)},function(n){t(n)})})})},n.prototype.webdeleteinvoice=function(n){var l=this;return new Promise(function(e,t){l.storage.get(o.a.storageuniq+"token").then(function(o){l.token=o;var i=new u.d;i.append("Authorization",l.token),i.append("Content-Type","application/json"),l.http.post(l.url+"/webuser/webdeleteinvoice",JSON.stringify(n),{headers:i}).subscribe(function(n){var l=n.json();e(l)},function(n){t(n)})})})},n.prototype.webdeleteinvtemplate=function(n){var l=this;return new Promise(function(e,t){l.storage.get(o.a.storageuniq+"token").then(function(o){l.token=o;var i=new u.d;i.append("Authorization",l.token),i.append("Content-Type","application/json"),l.http.post(l.url+"/webuser/webdeleteinvtemplate",JSON.stringify(n),{headers:i}).subscribe(function(n){var l=n.json();e(l)},function(n){t(n)})})})},n.prototype.webgetinvtemplates=function(n){var l=this;return new Promise(function(e,t){l.storage.get(o.a.storageuniq+"token").then(function(o){l.token=o;var i=new u.d;i.append("Authorization",l.token),i.append("Content-Type","application/json"),l.http.post(l.url+"/webuser/webgetinvtemplates",JSON.stringify(n),{headers:i}).subscribe(function(n){var l=n.json();e(l)},function(n){t(n)})})})},n.prototype.webgetinvoices=function(n){var l=this;return new Promise(function(e,t){l.storage.get(o.a.storageuniq+"token").then(function(o){l.token=o;var i=new u.d;i.append("Authorization",l.token),i.append("Content-Type","application/json"),l.http.post(l.url+"/webuser/webgetinvoices",JSON.stringify(n),{headers:i}).subscribe(function(n){var l=n.json();e(l)},function(n){t(n)})})})},n.ngInjectableDef=r.S({factory:function(){return new n(r.W(u.e),r.W(s.b),r.W(i.a))},token:n,providedIn:"root"}),n}()}}]);